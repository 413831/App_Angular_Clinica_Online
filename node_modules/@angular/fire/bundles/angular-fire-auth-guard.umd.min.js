!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/router"),require("rxjs"),require("rxjs/operators"),require("@angular/fire")):"function"==typeof define&&define.amd?define("@angular/fire/auth-guard",["exports","@angular/core","@angular/router","rxjs","rxjs/operators","@angular/fire"],r):r(((e=e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire["auth-guard"]={}),e.ng.core,e.ng.router,e.rxjs,e.rxjs.operators,e.angular.fire)}(this,(function(e,r,n,t,u,a){"use strict";var i=function(){function e(e,r,n,i){var c=this;this.router=i,this.canActivate=function(e,r){var n=e.data.authGuardPipe||function(){return o};return c.authState.pipe(u.take(1),n(e,r),u.map((function(e){return"boolean"==typeof e?e:c.router.createUrlTree(e)})))};var p=t.of(void 0).pipe(u.observeOn(new a["ɵAngularFireSchedulers"](n).outsideAngular),u.switchMap((function(){return n.runOutsideAngular((function(){return import("firebase/auth")}))})),u.observeOn(new a["ɵAngularFireSchedulers"](n).insideAngular),u.map((function(){return a["ɵfirebaseAppFactory"](e,n,r)})),u.map((function(e){return e.auth()})),u.shareReplay({bufferSize:1,refCount:!1}));this.authState=p.pipe(u.switchMap((function(e){return new t.Observable(e.onAuthStateChanged.bind(e))})))}return e.decorators=[{type:r.Injectable,args:[{providedIn:"any"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[a.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[a.FIREBASE_APP_NAME]}]},{type:r.NgZone},{type:n.Router}]},e.ɵprov=r["ɵɵdefineInjectable"]({factory:function(){return new e(r["ɵɵinject"](a.FIREBASE_OPTIONS),r["ɵɵinject"](a.FIREBASE_APP_NAME,8),r["ɵɵinject"](r.NgZone),r["ɵɵinject"](n.Router))},token:e,providedIn:"any"}),e}();var o=u.map((function(e){return!!e})),c=u.map((function(e){return!!e&&!e.isAnonymous})),p=u.switchMap((function(e){return e?e.getIdTokenResult():t.of(null)})),f=u.map((function(e){return!!e&&e.emailVerified})),s=t.pipe(p,u.map((function(e){return e?e.claims:[]}))),d=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{providers:[i]}]}],e}();e.AngularFireAuthGuard=i,e.AngularFireAuthGuardModule=d,e.canActivate=function(e){return{canActivate:[i],data:{authGuardPipe:e}}},e.customClaims=s,e.emailVerified=f,e.hasCustomClaim=function(e){return t.pipe(s,u.map((function(r){return r.hasOwnProperty(e)})))},e.idTokenResult=p,e.isNotAnonymous=c,e.loggedIn=o,e.redirectLoggedInTo=function(e){return t.pipe(o,u.map((function(r){return r&&e||!0})))},e.redirectUnauthorizedTo=function(e){return t.pipe(o,u.map((function(r){return r||e})))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-auth-guard.umd.min.js.map